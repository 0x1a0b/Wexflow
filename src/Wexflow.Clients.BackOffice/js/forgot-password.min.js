function ForgotPassword(){"use strict";var t=Common.trimEnd(Settings.Uri,"/"),s=document.getElementById("txt-username");function n(){Common.get(t+"/user?username="+encodeURIComponent(s.value),function(n){if(null==n)alert("The user "+s.value+" does not exist.");else{var e=n.Email;""===e||null==e?alert("The user "+s.value+" does not have an email."):Common.post(t+"/resetPassword?username="+encodeURIComponent(n.Username)+"&email="+encodeURIComponent(e)+"&host="+encodeURIComponent(Settings.Smtp.Host)+"&port="+Settings.Smtp.Port+"&enableSsl="+Settings.Smtp.EnableSsl+"&smtpUser="+Settings.Smtp.User+"&smtpPassword="+encodeURIComponent(Settings.Smtp.Password)+"&from="+encodeURIComponent(Settings.Smtp.From),function(e){!0===e?alert("An email with a new password was sent to: "+n.Email):alert("An error occured while sending the email.")})}})}document.getElementById("btn-submit").onclick=function(){n()},s.onkeyup=function(e){e.preventDefault(),13===e.keyCode&&n()}}Common={redirectToLoginPage:function(){window.location.replace("index.html")},trimEnd:function(e,n){for(;e.charAt(e.length-1)===n;)e=e.substring(0,e.length-1);return e},get:function(e,n,t){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status&&n)if(""!==this.responseText){var e=JSON.parse(this.responseText);n(e)}else n()},s.onerror=function(){t&&t()},s.open("GET",e,!0),s.send()},post:function(e,n,t,s){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status&&n)if(""!==this.responseText){var e=JSON.parse(this.responseText);n(e)}else n()},r.onerror=function(){t&&t()},r.open("POST",e,!0),r.send(JSON.stringify(s))},launchType:function(e){switch(e){case 0:return"Startup";case 1:return"Trigger";case 2:return"Periodic";case 3:return"Cron";default:return""}},status:function(e){switch(e){case 0:return"<img src='images/pending-small.png' /> Pending";case 1:return"<img src='images/running-small.png' /> Running";case 2:return"<img src='images/done-small.png' /> Done";case 3:return"<img src='images/failed-small.png' /> Failed";case 4:return"<img src='images/warning-small.png' /> Warning";case 5:return"<img src='images/disabled-small.png' /> Disabled";case 6:return"<img src='images/stopped-small.png' /> Stopped";default:return""}},disableButton:function(e,n){e.disabled=n},formatDate:function(e){return("0"+e.getDate()).slice(-2)+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+e.getFullYear()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)}};